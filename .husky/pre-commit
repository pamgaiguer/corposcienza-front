#!/bin/sh
# NOTA: Remova quaisquer linhas de boilerplate antigas do Husky.

# Usa 'command -v' (ou 'which') para verificar qual gerenciador de pacotes está disponível.
# A ordem é importante, priorizando pnpm e yarn sobre npm.

if command -v pnpm > /dev/null 2>&1; then
  # pnpm está disponível
  echo "Rodando lint com pnpm..."
  pnpm run lint
elif command -v yarn > /dev/null 2>&1; then
  # pnpm não está disponível, mas yarn está
  echo "Rodando lint com yarn..."
  yarn run lint
elif command -v npm > /dev/null 2>&1; then
  # Nenhum dos anteriores, mas npm está disponível
  echo "Rodando lint com npm..."
  npm run lint
else
  # Nenhum gerenciador de pacotes encontrado
  echo "ERRO: Nenhum gerenciador de pacotes (pnpm, yarn, npm) encontrado no seu PATH."
  echo "O commit foi abortado."
  exit 1
fi